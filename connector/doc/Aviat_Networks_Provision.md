---
uid: Connector_help_Aviat_Networks_Provision
---

# Aviat Networks Provision

**Aviat Networks Provision** is a standards-based **Element Management System (EMS)**. This connector can be used to display alarms from devices connected to this EMS.

The Aviat Provision provides a network management solution based on SNMP. It does so by layering one or more Element Manager applications on the foundation system. The traps generated by this device correspond to information generated by the devices that this EMS is monitoring.

## About

An **SNMP** connection is used in order to retrieve SNMP traps. There are two types of trap OIDs that the connector will process:

- *pvRaiseTrap* (1.3.6.1.4.1.2509.5.5.1.4.1)
- *pvClearTrap* (1.3.6.1.4.1.2509.5.5.1.4.2)

In addition, the connector offers several possibilities for **alarm monitoring** and **trending** of the supported devices connected to the manager.

### Version Info

| Range   | Description                                             | DCF Integration | Cassandra Compliant |
|---------|---------------------------------------------------------|-----------------|---------------------|
| 1.0.0.x | Initial version                                         | No              | Yes                 |
| 1.0.1.x | Adaptation to new SoW                                   | No              | Yes                 |
| 1.0.2.x | Primary key is based on rowkey from change request      | No              | Yes                 |
| 1.0.3.x | Connector reworked to fix traps and DVEs implementation | No              | Yes                 |
| 2.0.0.x | EPM compatible                                          | No              | Yes                 |

### Product Info

| Range   | Supported Firmware Version |
|---------|----------------------------|
| 1.0.0.x | 6.10                       |
| 1.0.1.x | 6.10                       |
| 1.0.2.x |                            |
| 1.0.3.x |                            |
| 2.0.0.x | 6.10                       |

### Exported connectors - Range 1.0.2.x

| Exported Connector | Description |
|--|--|
| Aviat Networks Provision - Device | Alarms of each device connected to the Aviat Networks Provision. A table with information related to the alarm (event ID, severity, location, etc.) is displayed. |

## Configuration

### Connections

#### SNMP Connection - Trap Input

This connector uses a Simple Network Management Protocol (SNMP) connection and requires the following input during element creation:

SNMP CONNECTION:

- **IP address/host**: The polling IP of the device.
- **Device address**: Not required.

SNMP Settings:

- **Port number**: The port of the connected device, by default *161*.
- **Get community string**: The community string used when reading values from the device, by default *public*.
- **Set community string**: The community string used when setting values on the device, by default *private*.

## Usage (1.0.0.1)

### Traps Page

SNMP traps received from the EMS are displayed in the **Traps Table**. The **Number of Traps** parameter displays how many rows are available in this table. You can remove specific rows by clicking the **Delete Trap** button (available in the last column of the table).

Additional configuration is available on the **Configuration page** (see below).

### Known IP Addresses Page

This page displays the **Devices Table**, which contains an overview of all the devices known by the connector. Note that every incoming trap has a source IP (see below) and this source IP address is used to match the trap to a specific device. Only traps with a source IP address known by the connector will be processed; any other traps will be discarded.

In last column of the table, **Create DVE**, you can enable or disable the creation of a single Dynamic Virtual Element (DVE). When you enable the DVE, a new element will appear in the Surveyor. Note that enabling the DVE is only possible if there is a view that has the same name as the Site Name of the device. This DVE will then use the exported connector **Aviat Networks Provision - Device**.

It is also possible to delete a single device in the Devices Table, using the **Delete Device** button. Note that when a device is deleted, the traps originating from that device will also immediately be deleted, as the connector only stores traps originating from known IP addresses.

The **Number of Known IP Addresses** parameter at the top of this page displays the number of rows in the Devices Table. Below this, you can find the **Number of DVEs** enabled.

To manage the devices further, e.g. to delete multiple devices or create or delete all DVEs at once, refer to the Configuration page (see below).

### Configuration Page

This page consists of several sections, corresponding to different aspects of the configuration.

#### Traps Limitation

This section indicates the **Number of Traps** stored in the Traps Table, and allows you to limit this number in two ways: based on the total number of traps or based on the age of the traps. Note that to ensure that the content of the Traps Table is always limited, it is not possible to disable both limitations at the same time.

For example:

- If **Maximum Number of Traps** is enabled and set to 1000, the current number of traps is 1000 and a new trap is received, the limitation will make sure that the oldest trap is removed after a new one arrives, so that the total number of traps never exceeds 1000.
- If **Maximum Age of Traps** is enabled and set to 14 days, and a trap was received 14 days ago, this trap will be deleted tomorrow. Note that this check will be done daily and whenever the element is started up.

The section also contains a button to manually **Delete All Traps** at once.

#### Deleted Traps Limitation

This section indicates the **Number of Deleted Traps** stored in the Deleted Traps Table, and allows you to limit this number in two ways: based on the total number of traps or based on the age of the traps. Note that to ensure that the content of the Traps Table is always limited, it is not possible to disable both limitations at the same time.

Note that you can also delete all traps at once using the **Delete All Traps** button mentioned in the section above.

#### Known IP Addresses

This section displays the **Number of Known IP Addresses** and allows you to manage the IP addresses shown on the page Known IP Addresses (see above).

The **Delete All** button allows you to manually delete all known IP addresses. Note that this button will not only delete all known IP addresses in the relevant table, but also the DVEs corresponding to these addresses and the stored traps coming from these addresses. However, to avoid that DVEs are deleted, you can set the toggle button **Automatic Removal** (in the Dynamic Virtual Elements section) to *Disabled*.

Finally, the section also contains a page button **Import IP Addresses**, which opens a subpage containing all parameters to import IP addresses in the connector. The imported file must be a CSV file with a particular format, specified on this subpage. You can specify if the connector should try to create DVEs when a file is imported or not, using the toggle button **Create DVEs on Adding/Updating IP Addresses**. On the right-hand side of the subpage, a report of the import is displayed, mentioning which rows were imported and which were considered invalid (e.g. if the IP address had already been imported earlier, the IP address was not a valid IP address, there was already a previous row mentioning that IP address, etc.). You can also change the Device Name related to a certain IP address by means of an import.

#### Dynamic Virtual Elements

In this section, you can manage the creation or deletion of all DVEs at once. The **Number of DVEs** is mentioned here, and buttons are available to **Create All DVEs** and **Delete All DVEs**.

Please note the following:

- Deleting all DVEs will have no effect on the stored traps in the Traps Table, as deleting the DVE will not delete the IP address linked to that DVE.
- DVEs can only be created if there is a view in the Surveyor that matches the Site Name of the known IP address. The DVE will then immediately appear in the correct view, and as a consequence the DVEs will form a great overview of all the devices connected to the Aviat Networks Provision.
- Creating or deleting a **single DVE** is also possible, but this is done on the **Known IP Addresses** page.

This section also contains the **DVE Table** page button, which opens a subpage with a table that displays all DVEs created by the connector. The last column of this table contains a **Delete DVE** button, which can be used to erase DVEs one by one.

### Debug Page

This page displays the **Deleted Traps Table**, which lists the stored deleted traps, ordered from young to old. Above the table, the **Number of Deleted Traps** parameter indicates the number of rows in the table. For more information on how to further manage the traps, delete multiple traps or configure the processing, refer to the **Configuration page**.

#### General Hardcoded Rules

- Only incoming traps with an IP address that is known will be processed. It is therefore very important to import all IP addresses of your connected devices.
- Only traps originating from the same IP address can overwrite each other.
- Deleted traps also pass different filters, the known IP Address, valid Severity and Event Name.
- When traps are deleted, they are stored in the **Deleted Traps Table**. They are only erased from the **Traps Table** if the Automatic Removal button is *Enabled*, otherwise they are simply set to a *CLEARED* state.
- Deleted traps will erase or update traps only if **Event ID** and **Event Source ID** match with an older trap in the **Trap Table** and the state of this deleted trap is *CLEARED*.
- **Traps** and **Deleted Traps** cannot create new rows in the tables if they keep the same **EventID** and **EventSourceID** of an older trap, but in that case, they can update the rows.

## Usage (1.0.1.1)

### Traps Page

On this page, the **NorthBound Status** parameter will display an error if the Northbound Status Trap (heartbeat) is not received in time, i.e. within the heartbeat interval, which has to be the same as the value set in the **Heartbeat Time Interval** parameter.

The **display key** of the traps table is obtained by concatenating the **Service ID** and **Event Name** column parameters.

### Known IP Addresses Page

In last column of the Device Table, **Create DVE**, you can enable or disable the creation of a single Dynamic Virtual Element (DVE). If DVE creation is enabled, a new element with the same name as the Device Name will appear in the Surveyor in the view that corresponds to the Site Name.

### Service Page

This page displays the **Service Table**. Each entry in this table represents a known **Service ID**, which is linked to the respective Device Name. The page also displays the **DAC/Port** parameter, as the concatenation of these three parameters is used as the **Index** of the table.

### Configuration Page

This page consists of several sections, corresponding to different aspects of the configuration.

#### Known IP Addresses

Each time a CSV file is loaded, the connector will make sure that the Known IP Addresses table replicates the entries in the provision file.

#### Import IP Addresses

If a provision file is imported and a mismatch is detected between one of the entries in the file and the Known IP Addresses table, the message "CSV File ignored because some IP addresses do not match with the known device name." will be displayed. In order to change the Device Name related to a certain IP address, or vice versa, you will first need to delete the device from the table. After that, the new CSV file can be loaded.

#### General Hardcoded Rules

- An internal counter is reset each time a heartbeat trap is received. An internal timer (set to 5 seconds) will increment the counter until it reaches its threshold (calculated from the Heartbeat Time Interval). If no heartbeat trap is received within the interval, **NorthBound Status** is set to *Error*.
- The **ServiceID** column in the Traps Table depends on the presence of the **DAC/Port** field in the Event Source Physical Path binding of the received trap. If this is present, the parameter will be set to \[ServiceIDs\], otherwise it will be set to \[Device Name\].
- Devices are deleted from the table whenever the loaded provision file no longer contains the specific row (identified by IP Address + Device Name).
- Duplicate alarms are avoided by checking by reference key \[IP.Event Name.EventSourceID.Event ID\] if the Traps Table already contains the same entry.

## Usage (1.0.2.1)

### Traps Page

On this page, the **NorthBound Status** parameter will display an error if the Northbound Status Trap (heartbeat) is not received in time, i.e. within the heartbeat interval, which has to be the same as the value set in the **Heartbeat Time Interval** parameter.

The **primary key** of the traps table is obtained by concatenating the **Service ID** and **Event Name** column parameters.

## Usage (1.0.3.1)

### General Page

With the context menu in the Device Elements Table, you can add devices to be monitored.

> [!NOTE]
> For the DVE configuration to be set, you must apply it either by selecting **Apply All** in the context menu or by clicking the **Apply All** button.

### Configuration Page

The Source IP needs to be configured manually. This IP address is the IP of the host DMA. This is required for sending traps to the Aviat Networks Provision device. It informs the device of which IP to reply to.

## Usage (2.0.0.X)

### Configuration Page

This page contains the following parameters:

- **Entity Import Directory**: Directory where the element will import the devices information from EPM.

- **Entity Export Directory**: Directory from which the element will export the devices inventory information to EPM.

- **System Username**: Username used to retrieve files from a remote directory.

- **System Password**: Password used to retrieve files from a remote directory.
